<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>预警设置 | ElasticSearch 7.7 权威指南中文版</title>
	<meta name="keywords" content="ElasticSearch 权威指南中文版, elasticsearch 7, es7, 实时数据分析，实时数据检索" />
    <meta name="description" content="ElasticSearch 权威指南中文版, elasticsearch 7, es7, 实时数据分析，实时数据检索" />
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	<link rel="stylesheet" type="text/css" href="../static/styles.css" />
	<script>
	var _link = 'notification-settings.html';
    </script>
</head>
<body>
<div class="main-container">
    <section id="content">
        <div class="content-wrapper">
            <section id="guide" lang="zh_cn">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                            <div style="color:gray; word-break: break-all; font-size:12px;">原英文版地址: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.7/notification-settings.html" rel="nofollow" target="_blank">https://www.elastic.co/guide/en/elasticsearch/reference/7.7/notification-settings.html</a>, 原文档版权归 www.elastic.co 所有<br/>本地英文版地址: <a href="../en/notification-settings.html" rel="nofollow" target="_blank">../en/notification-settings.html</a></div>
                        <!-- start body -->
                  <div class="page_header">
<strong>重要</strong>: 此版本不会发布额外的bug修复或文档更新。最新信息请参考 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html" rel="nofollow">当前版本文档</a>。
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch 权威指南 [7.7]</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">安装和设置</a></span>
»
<span class="breadcrumb-link"><a href="settings.html">配置 Elasticsearch</a></span>
»
<span class="breadcrumb-node">预警设置</span>
</div>
<div class="navheader">
<span class="prev">
<a href="modules-threadpool.html">« 线程池</a>
</span>
<span class="next">
<a href2="important-settings.html">Important Elasticsearch configuration »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title">
<a id="notification-settings"></a>预警(Watcher) 设置<a class="xpack_tag" href="https://www.elastic.co/subscriptions"></a>
</h2>
</div></div></div>

<p>
你可以配置 预警(Watcher) 设置，以设置观察器并通过<a class="xref" href="notification-settings.html#email-notification-settings" title="Email Notification Settings">email</a>、<a class="xref" href="notification-settings.html#slack-notification-settings" title="Slack Notification Settings">Slack</a><span class="remark">(世界上最受欢迎的工作平台和团队消息传递应用程序之一)</span> 及 <a class="xref" href="notification-settings.html#pagerduty-notification-settings" title="PagerDuty Notification Settings">PagerDuty</a><span class="remark">(一套付费监控报警系统)</span> 来发送提醒。
</p>
<p>
所有这些设置都可以添加到 <code class="literal">elasticsearch.yml</code> 配置文件中，只有安全设置除外，它是添加到 Elasticsearch 密钥库中的。
有关创建和更新 Elasticsearch 密钥库的更多信息，请参考 <a class="xref" href="secure-settings.html" title="Secure settings">安全设置</a>。

还可以使用 <a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">集群更新设置 API</a> 动态更新整个集群的设置。
</p>
<h4>
<a id="general-notification-settings"></a>常规预警设置
</h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.watcher.enabled</code>
</span>
</dt>
<dd>
设置为 <code class="literal">false</code> 以在该节点上禁用预警。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.watcher.encrypt_sensitive_data</code>
</span>
</dt>
<dd>
设置为 <code class="literal">true</code> 以加密敏感数据。
如果启用了该设置，还必须同时指定 <code class="literal">xpack.watcher.encryption_key</code> 设置。
更多信息请参考 <a class="xref" href="encrypting-data.html" title="Encrypting sensitive data in Watcher"><em>在预警中加密敏感数据</em></a>。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.watcher.encryption_key</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
指定包含用于加密敏感数据的密钥的文件的路径。
如果 <code class="literal">xpack.watcher.encrypt_sensitive_data</code> 被设置为 <code class="literal">true</code>，此设置也必须设置。
更多信息请参考 <a class="xref" href="encrypting-data.html" title="Encrypting sensitive data in Watcher"><em>在预警中加密敏感数据</em></a>。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.watcher.history.cleaner_service.enabled</code>
</span>
</dt>
<dd>
<p>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono">6.3.0</span>]
<span class="Admonishment-detail">
在 6.3.0 版本中添加的。默认值变更为 <code class="literal">true</code>。
</span>
</span>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.0.0</span>]
<span class="Admonishment-detail">
在 7.0.0 版本中废弃。预警历史索引现在在 <code class="literal">watch-history-ilm-policy</code> ILM 策略下管理。
</span>
</span>
</p>
<p>
设置为 <code class="literal">true</code> (默认值) 有启用清理服务。
如果此设置值为 <code class="literal">true</code>，则 <code class="literal">xpack.monitoring.enabled</code> 也必须设置为<code class="literal">true</code>，并启用 本地导出器(local exporter)。

当清理服务确定以前版本的预警索引(比如, <code class="literal">.watcher-history*</code>)是旧的时，会移除他们。

预警索引的保留时间由<code class="literal">xpack.monitoring.history.duration</code> 设置决定，默认为 7 天。

更多信息请参考 <a class="xref" href="monitoring-settings.html" title="Monitoring settings in Elasticsearch">监控设置</a>。
</p>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.proxy.host</code>
</span>
</dt>
<dd>
指定用于连接HTTP服务的代理服务器的地址。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.proxy.port</code>
</span>
</dt>
<dd>
指定用于连接代理服务器的端口号。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.default_connection_timeout</code>
</span>
</dt>
<dd>
当启动连接时，等待请求中止的最长时间。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.default_read_timeout</code>
</span>
</dt>
<dd>
请求中止前，两个数据包之间的最长不活动时间。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.max_response_size</code>
</span>
</dt>
<dd>
指定HTTP响应允许的最大大小，默认值为 <code class="literal">10mb</code>，最大可配置为 <code class="literal">50mb</code>。 
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.whitelist</code>
</span>
</dt>
<dd>
允许内部HTTP客户端连接的URL列表。
这个客户机用于HTTP输入、webhook、slack、pagerduty 和 jira 操作。
默认值 <code class="literal">*</code> 允许所有。
注意：如果你配置了此设置，并且正在使用 slack 或 page duty 操作，则必须确保相应的 终端(endpoint) 也被显式允许。
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title">
<a id="ssl-notification-settings"></a>预警的 HTTP TLS/SSL 设置
</h3>
</div></div></div>
<p>你可以配置以下TLS/SSL设置：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.supported_protocols</code>
</span>
</dt>
<dd>
<p>
支持的协议版本。
可用的协议包括： <code class="literal">SSLv2Hello</code>, <code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>, <code class="literal">TLSv1.3</code> 。

如果JVM的 SSL 提供程序支持 TLSv1.3，则默认值为 <code class="literal">TLSv1.3,TLSv1.2,TLSv1.1</code>；否则，默认值为 <code class="literal">TLSv1.2,TLSv1.1</code> 。
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>如果 <code class="literal">xpack.security.fips_mode.enabled</code> 为 <code class="literal">true</code>，则你不能使用 <code class="literal">SSLv2Hello</code> 和 <code class="literal">SSLv3</code>。
参见 <a class="xref" href="fips-140-compliance.html" title="FIPS 140-2">FIPS 140-2</a>。</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.verification_mode</code>
</span>
</dt>
<dd>
<p>
控制证书的验证。有效值包括：
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">full</code>，用于验证所提供的证书是否由可信机构(CA)签名，还验证服务器的主机名(或IP地址)是否与证书中标识的名称匹配。
</li>
<li class="listitem">
<code class="literal">certificate</code>，用于验证所提供的证书是否由可信机构(CA)签名，但不执行任何主机名验证。
</li>
<li class="listitem">
<p>
<code class="literal">none</code>，<em>不验证</em>服务器的证书。
这种模式禁用了 SSL/TLS 的许多安全优势，应该在非常谨慎的考虑之后才使用。
它主要用作尝试解决 TLS 错误时的临时诊断机制；强烈建议不要在生产集群上使用它。
</p>
<p>默认值为 <code class="literal">full</code> </p>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.cipher_suites</code>
</span>
</dt>
<dd>
<p>
支持的密码套件因使用的 Java 版本而异。
例如，对于版本11，默认值为   <code class="literal">TLS_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_AES_128_GCM_SHA256</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384</code>,
<code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</code>,
<code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_RSA_WITH_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_RSA_WITH_AES_128_GCM_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA256</code>,
<code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA</code>,
<code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA</code>.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>
上面列出的默认密码套件包括 TLSv1.3 密码和需要 <em title="Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files">Java 加密扩展(JCE)无限强度权限策略文件</em>进行256位 AES 加密的密码。
如果 TLSv1.3 不可用，则 TLSv1.3 密码 <code class="literal">TLS_AES_256_GCM_SHA384</code> 和 <code class="literal">TLS_AES_128_GCM_SHA256</code> 不会包括在默认列表中。
如果 256-bit AES 不可用，则名字中有<code class="literal">AES_256</code>的密码不会包含在默认列表中。
最后，AES GCM 在 Java 11 之前的版本中存在已知的性能问题，只有在使用 Java 11 或更高版本时才会包含在默认列表中。
</p>
</div>
</div>
<p>
有关更多信息，请参见Oracle的 <a href="https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-7093246A-31A3-4304-AC5F-5FB6400405E2" class="ulink" target="_top">Java加密体系结构文档</a> 。
</p>
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="watcher-tls-ssl-key-trusted-certificate-settings"></a>预警的 HTTP TLS/SSL 密钥和可信证书设置
</h4>
</div></div></div>
<p>
下列设置用于指定通过SSL/TLS连接通信时应使用的私钥、证书和可信证书。
私钥和证书是可选的，如果服务器要求对PKI身份验证进行客户端身份验证，将会使用它们。
</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="_pem_encoded_files_4"></a>PEM 编码文件
</h4>
</div></div></div>
<p>使用 PEM 编码文件时，请使用以下设置：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.key</code>
</span>
</dt>
<dd>
包含私钥的 PEM 编码文件的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.key_passphrase</code>
</span>
</dt>
<dd>
用于解密私钥的密码。由于密钥可能没有加密，因此该值是可选的。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.secure_key_passphrase</code> (<a class="xref" href="secure-settings.html" title="Secure settings">Secure</a>)
</span>
</dt>
<dd>
用于解密私钥的密码。由于密钥可能没有加密，因此该值是可选的
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.certificate</code>
</span>
</dt>
<dd>
指定与密钥相关的 PEM 编码证书(或证书链)的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.certificate_authorities</code>
</span>
</dt>
<dd>
应该受信任的 PEM 编码证书文件的路径列表。 
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="_java_keystore_files_4"></a>Java 密钥库文件
</h4>
</div></div></div>
<p>使用包含私钥、证书和应该信任的证书的 Java 密钥库文件(JKS, Java keystore file)时，请使用以下设置：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.path</code>
</span>
</dt>
<dd>
包含私钥和证书的密钥库文件的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.password</code>
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.key_password</code>
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是 密钥库密码<span class="remark">(keystore password)</span>。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.secure_key_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是 密钥库密码<span class="remark">(keystore password)</span>。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.truststore.path</code>
</span>
</dt>
<dd>
包含要信任的证书的密钥库的路径。
它必须是 Java 密钥库(jks) 或 PKCS#12 文件。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.truststore.password</code>
</span>
</dt>
<dd>
信任库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.truststore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
信任库的密码。
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="watcher-pkcs12-files"></a>PKCS#12 文件
</h4>
</div></div></div>
<p>
Elasticsearch可以配置为使用 PKCS#12 容器文件(<code class="literal">.p12</code> 或 <code class="literal">.pfx</code>文件)，它包含私钥、证书和应该被信任的证书。
</p>
<p>PKCS#12 文件的配置方式与 Java 密钥库文件相同：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.path</code>
</span>
</dt>
<dd>
包含私钥和证书的密钥库文件的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.type</code>
</span>
</dt>
<dd>
密钥库文件的格式，必须是 <code class="literal">jks</code> 或 <code class="literal">PKCS12</code>。
如果秘钥库路径以 ".p12"、".pfx" 或 ".pkcs12" 结尾，则其默认值为 <code class="literal">PKCS12</code>；否则，默认值为 <code class="literal">jks</code>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.password</code>
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.key_password</code>
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是密钥库密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.keystore.secure_key_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是密钥库密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.truststore.path</code>
</span>
</dt>
<dd>
包含要信任的证书的密钥库的路径。它必须是Java密钥库(jks) 或 PKCS#12 文件。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.truststore.type</code>
</span>
</dt>
<dd>
将此项设置为 <code class="literal">PKCS12</code> ，以表明信任库是 PKCS#12 文件。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.truststore.password</code>
</span>
</dt>
<dd>
信任库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.truststore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
信任库的密码。
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="watcher-pkcs11-tokens"></a>PKCS#11 令牌
</h4>
</div></div></div>
<p>Elasticsearch 可以被配置为使用 PKCS#11 令牌，该令牌包含私钥、证书和应该被信任的证书。</p>
<p>PKCS#11 令牌需要在JVM级别进行额外配置，可以通过以下设置启用：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.http.keystore.type</code>
</span>
</dt>
<dd>
将此项设置为 <code class="literal">PKCS11</code> ，以表明 PKCS#11 令牌应该被用作密钥库。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.truststore.type</code>
</span>
</dt>
<dd>
信任库文件的格式。
对于Java秘钥库格式，使用 <code class="literal">jks</code>。
对于 PKCS#12 文件，使用 <code class="literal">PKCS12</code>。
对于 PKCS#11 令牌, 使用 <code class="literal">PKCS11</code>。
默认值为 <code class="literal">jks</code>
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>
在配置 PKCS#11 令牌（即 JVM 被配置为用作 Elasticsearch 的密钥库或信任库）时，可以通过在所配置的上下文中将适当的值设置为<code class="literal">ssl.truststore.password</code> 或 <code class="literal">ssl.truststore.secure_password</code>来配置令牌的PIN。
由于只能配置一个 PKCS#11 令牌，因此在 Elasticsearch 中只能配置一个密钥库和信任库。
这反过来意味着只有一个证书可用于传输层和http层的TLS。
</p>
</div>
</div>
<h4>
<a id="email-notification-settings"></a>Email 通知设置
</h4>
<p>
你可以在 <code class="literal">elasticsearch.yml</code> 中配置以下邮件通知设置。
有关通过电子邮件发送通知的详细信息，请参考 <a class="xref" href="actions-email.html#configuring-email-actions" title="Configuring email actions">配置邮件行为</a>。
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.email.account</code>
</span>
</dt>
<dd>
<p>
指定通过电子邮件发送通知的帐户信息。
可以指定以下电子邮件帐户属性：
</p>
<div class="variablelist">
<a id="email-account-attributes"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">profile</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
<a class="xref" href="actions-email.html#configuring-email" title="Configuring email accounts">email配置</a>用来构建从帐户发送的MIME消息。
可用的值有：<code class="literal">standard</code>、<code class="literal">gmail</code> 及 <code class="literal">outlook</code>。
默认值为 <code class="literal">standard</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">email_defaults.*</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
一组可选的电子邮件属性，作为从该帐户发送的电子邮件的默认值。
有关支持的属性，参考 <a class="xref" href="actions-email.html#email-action-attributes" title="Email action attributes">Email 行为属性</a>。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.auth</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
设定为 <code class="literal">true</code> 以尝试使用 AUTH 命令验证用户。默认为 <code class="literal">false</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.host</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
要连接的SMTP服务器。必填。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.port</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
要连接的SMTP服务器端口。默认为25。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.user</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
SMTP的用户名。必填。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
指定SMTP用户的密码。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.starttls.enable</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
设置为 <code class="literal">true</code> 以允许使用 <code class="literal">STARTTLS</code> 命令(如果服务器支持)在发出任何登录命令之前将连接切换到 TLS 保护的连接。
请注意，必须配置适当的信任存储，以便客户端信任服务器的证书。
默认值为 <code class="literal">false</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.starttls.required</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
如果为 <code class="literal">true</code>，则必须使用 <code class="literal">STARTTLS</code> 命令。 
如果该命令失败，连接也就失败了。
默认值为 <code class="literal">false</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.ssl.trust</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
假定受信任且证书验证被禁用的 SMTP 服务器主机列表。
如果设置为<code class="literal">*</code>，则所有主机都是可信的。
如果设置为空白分隔的主机列表，则这些主机是可信的。
否则，信任依赖于服务器提供的证书。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.timeout</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
socket 读取超时。默认值为 2 分钟。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.connection_timeout</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
socket 连接超时时间，默认值为 2 分钟。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.write_timeout</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>socket 写超时时间，默认值为 2 分钟。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.local_address</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
发送电子邮件时可配置的本地地址。默认情况下未配置。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.local_port</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
发送电子邮件时可配置的本地端口。默认情况下未配置。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.send_partial</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
发送电子邮件，尽管其中一个收件人地址无效。
</dd>
<dt>
<span class="term">
<code class="literal">smtp.wait_on_quit</code> (<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">动态</a>)
</span>
</dt>
<dd>
如果设置为 <code class="literal">false</code>，将发送 QUIT 命令并关闭连接。
如果设置为 <code class="literal">true</code>，将发送 QUIT 命令并等待回复。
默认值为 <code class="literal">true</code> 。
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.html.sanitization.allow</code>
</span>
</dt>
<dd>
<p>
指定电子邮件通知中允许的HTML元素。
更多信息请参考 <a class="xref" href="actions-email.html#email-html-sanitization" title="Configuring HTML sanitization options">配置HTML清理选项ons</a>。
您可以指定单个HTML元素和以下HTML功能组:
</p>
<div class="variablelist">
<a id="html-feature-groups"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_tables</code>
</span>
</dt>
<dd>
所有与table有关的元素： <code class="literal">&lt;table&gt;</code>、<code class="literal">&lt;th&gt;</code>、<code class="literal">&lt;tr&gt;</code> 及 <code class="literal">&lt;td&gt;</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">_blocks</code>
</span>
</dt>
<dd>
以下几个块级元素： <code class="literal">&lt;p&gt;</code>, <code class="literal">&lt;div&gt;</code>, <code class="literal">&lt;h1&gt;</code>,
                    <code class="literal">&lt;h2&gt;</code>, <code class="literal">&lt;h3&gt;</code>, <code class="literal">&lt;h4&gt;</code>, <code class="literal">&lt;h5&gt;</code>, <code class="literal">&lt;h6&gt;</code>, <code class="literal">&lt;ul&gt;</code>, <code class="literal">&lt;ol&gt;</code>,
                    <code class="literal">&lt;li&gt;</code> 及 <code class="literal">&lt;blockquote&gt;</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">_formatting</code>
</span>
</dt>
<dd>
以下几个行级元素：<code class="literal">&lt;b&gt;</code>, <code class="literal">&lt;i&gt;</code>,
                    <code class="literal">&lt;s&gt;</code>, <code class="literal">&lt;u&gt;</code>, <code class="literal">&lt;o&gt;</code>, <code class="literal">&lt;sup&gt;</code>, <code class="literal">&lt;sub&gt;</code>, <code class="literal">&lt;ins&gt;</code>, <code class="literal">&lt;del&gt;</code>,
                    <code class="literal">&lt;strong&gt;</code>, <code class="literal">&lt;strike&gt;</code>, <code class="literal">&lt;tt&gt;</code>, <code class="literal">&lt;code&gt;</code>, <code class="literal">&lt;big&gt;</code>,
                    <code class="literal">&lt;small&gt;</code>, <code class="literal">&lt;br&gt;</code>, <code class="literal">&lt;span&gt;</code>, 及 <code class="literal">&lt;em&gt;</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">_links</code>
</span>
</dt>
<dd>
带有 <code class="literal">href</code> 属性的 <code class="literal">&lt;a&gt;</code> 元素，使用以下协议指向一个 URL：<code class="literal">http</code>, <code class="literal">https</code> 及 <code class="literal">mailto</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">_styles</code>
</span>
</dt>
<dd>
所有元素的 <code class="literal">style</code> 属性。
注意，CSS 属性也会被清理以阻止 XSS 攻击。
</dd>
<dt>
<span class="term">
<code class="literal">img</code>
</span>
</dt>
<dt>
<span class="term">
<code class="literal">img:all</code>
</span>
</dt>
<dd>
所有图像 (外部及内嵌的)。
</dd>
<dt>
<span class="term">
<code class="literal">img:embedded</code>
</span>
</dt>
<dd>
仅内嵌的图像。内嵌图像只能使用在 <code class="literal">src</code> 属性中使用 <code class="literal">cid:</code> URL 协议。
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.html.sanitization.disallow</code>
</span>
</dt>
<dd>
指定电子邮件通知中<em>不</em>允许的 HTML 元素。
可以指定单个 HTML 元素和 <a class="xref" href="notification-settings.html#html-feature-groups">HTML功能组</a>。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.html.sanitization.enabled</code>
</span>
</dt>
<dd>
设置为 <code class="literal">false</code> 将完全禁用 HTML 清理。不推荐。默认为 <code class="literal">true</code> 。
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title">
<a id="ssl-notification-smtp-settings"></a>预警邮件的 TLS/SSL 设置
</h3>
</div></div></div>
<p>可以配置以下TLS/SSL设置。</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.supported_protocols</code>
</span>
</dt>
<dd>
<p>
支持的协议版本。可用的协议包括：<code class="literal">SSLv2Hello</code>，<code class="literal">SSLv3</code>，<code class="literal">TLSv1</code>，<code class="literal">TLSv1.1</code>，<code class="literal">TLSv1.2</code>，<code class="literal">TLSv1.3</code>。
如果 JVM 的 SSL 提供程序支持 TLSv1.3，则默认值为 <code class="literal">TLSv1.3,TLSv1.2,TLSv1.1</code>；否则，默认值为 <code class="literal">TLSv1.2,TLSv1.1</code>
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>如果 <code class="literal">xpack.security.fips_mode.enabled</code> 为 <code class="literal">true</code>，则你不能使用 <code class="literal">SSLv2Hello</code> 和 <code class="literal">SSLv3</code>。
参见 <a class="xref" href="fips-140-compliance.html" title="FIPS 140-2">FIPS 140-2</a>。</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.verification_mode</code>
</span>
</dt>
<dd>
<p>
控制证书的验证。有效值包括:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">full</code>，用于验证所提供的证书是否由可信机构(CA)签名，还验证服务器的主机名(或IP地址)是否与证书中标识的名称匹配。
</li>
<li class="listitem">
<code class="literal">certificate</code>，用于验证所提供的证书是否由可信机构(CA)签名，但不执行任何主机名验证。
</li>
<li class="listitem">
<p>
<code class="literal">none</code>，<em>不验证</em>服务器的证书。
这种模式禁用了 SSL/TLS 的许多安全优势，应该在非常谨慎的考虑之后才使用。
它主要用作尝试解决 TLS 错误时的临时诊断机制；强烈建议不要在生产集群上使用它。
</p>
<p>默认值为 <code class="literal">full</code> </p>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.cipher_suites</code>
</span>
</dt>
<dd>
<p>
支持的密码套件因使用的 Java 版本而异。例如，对于版本11，默认值为 <code class="literal">TLS_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_AES_128_GCM_SHA256</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384</code>,
<code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</code>,
<code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_RSA_WITH_AES_256_GCM_SHA384</code>,
<code class="literal">TLS_RSA_WITH_AES_128_GCM_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA256</code>,
<code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA</code>,
<code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA</code>.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>
上面列出的默认密码套件包括 TLSv1.3 密码和需要 <em title="Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files">Java 加密扩展(JCE)无限强度权限策略文件</em>进行256位 AES 加密的密码。
如果 TLSv1.3 不可用，则 TLSv1.3 密码 <code class="literal">TLS_AES_256_GCM_SHA384</code> 和 <code class="literal">TLS_AES_128_GCM_SHA256</code> 不会包括在默认列表中。
如果 256-bit AES 不可用，则名字中有<code class="literal">AES_256</code>的密码不会包含在默认列表中。
最后，AES GCM 在 Java 11 之前的版本中存在已知的性能问题，只有在使用 Java 11 或更高版本时才会包含在默认列表中。
</p>
</div>
</div>
<p>有关更多信息，请参见Oracle的 <a href="https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-7093246A-31A3-4304-AC5F-5FB6400405E2" class="ulink" target="_top">Java加密体系结构文档</a> 。</p>
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="watcher-email-tls-ssl-key-trusted-certificate-settings"></a>预警邮件的 TLS/SSL 密钥和可信证书设置
</h4>
</div></div></div>
<p>
以下设置用于指定通过SSL/TLS连接进行通信时应使用的私钥、证书和可信证书。
必须配置私钥和证书。
私钥和证书是可选的，如果服务器要求对PKI身份验证进行客户端身份验证，将会使用它们。
</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="_pem_encoded_files_5"></a>PEM 编码文件
</h4>
</div></div></div>
<p>使用 PEM 编码文件时，请使用以下设置：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.key</code>
</span>
</dt>
<dd>
包含私钥的 PEM 编码文件的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.key_passphrase</code>
</span>
</dt>
<dd>
用于解密私钥的密码。由于密钥可能没有加密，因此该值是可选的。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.secure_key_passphrase</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
用于解密私钥的密码。由于密钥可能没有加密，因此该值是可选的。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.certificate</code>
</span>
</dt>
<dd>
指定与密钥相关的 PEM 编码证书(或证书链)的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.certificate_authorities</code>
</span>
</dt>
<dd>
应该受信任的 PEM 编码证书文件的路径列表。
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="_java_keystore_files_5"></a>Java 密钥库文件
</h4>
</div></div></div>
<p>使用包含私钥、证书和应该信任的证书的 Java 密钥库文件(JKS, Java keystore file)时，请使用以下设置：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.path</code>
</span>
</dt>
<dd>
包含私钥和证书的密钥库文件的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.password</code>
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.key_password</code>
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是密钥库密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.secure_key_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">Secure</a>)
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是密钥库密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.truststore.path</code>
</span>
</dt>
<dd>
包含要信任的证书的密钥库的路径。它必须是Java密钥库(jks) 或 PKCS#12 文件。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.truststore.password</code>
</span>
</dt>
<dd>
信任库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.truststore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">Secure</a>)
</span>
</dt>
<dd>
信任库的密码。
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="watcher-email-pkcs12-files"></a>PKCS#12 文件
</h4>
</div></div></div>
<p>
Elasticsearch可以配置为使用 PKCS#12 容器文件(<code class="literal">.p12</code> 或 <code class="literal">.pfx</code>文件)，它包含私钥、证书和应该被信任的证书。
</p>
<p>PKCS#12 文件的配置方式与 Java 密钥库文件相同：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.path</code>
</span>
</dt>
<dd>
包含私钥和证书的密钥库文件的路径。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.type</code>
</span>
</dt>
<dd>
密钥库文件的格式，必须是 <code class="literal">jks</code> 或 <code class="literal">PKCS12</code>。
如果秘钥库路径以 ".p12"、".pfx" 或 ".pkcs12" 结尾，则其默认值为 <code class="literal">PKCS12</code>；否则，默认值为 <code class="literal">jks</code>
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.password</code>
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
密钥库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.key_password</code>
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是密钥库密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.keystore.secure_key_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
密钥库中密钥的密码。默认值是密钥库密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.truststore.path</code>
</span>
</dt>
<dd>
包含要信任的证书的密钥库的路径。它必须是Java密钥库(jks) 或 PKCS#12 文件。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.truststore.type</code>
</span>
</dt>
<dd>
将此项设置为 <code class="literal">PKCS12</code> ，以表明信任库是 PKCS#12 文件。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.truststore.password</code>
</span>
</dt>
<dd>
信任库的密码。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.ssl.truststore.secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
信任库的密码。
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title">
<a id="watcher-email-pkcs11-tokens"></a>PKCS#11 令牌
</h4>
</div></div></div>
<p>Elasticsearch 可以被配置为使用 PKCS#11 令牌，该令牌包含私钥、证书和应该被信任的证书。</p>
<p>PKCS#11 令牌需要在JVM级别进行额外配置，可以通过以下设置启用：</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.email.keystore.type</code>
</span>
</dt>
<dd>
将此项设置为 <code class="literal">PKCS11</code>，以表明 PKCS#11 令牌应该被用作密钥库。
</dd>
<dt>
<span class="term">
<code class="literal">xpack.notification.email.truststore.type</code>
</span>
</dt>
<dd>
信任库文件的格式。
对于Java秘钥库格式，使用 <code class="literal">jks</code>。
对于 PKCS#12 文件，使用 <code class="literal">PKCS12</code>。
对于 PKCS#11 令牌, 使用 <code class="literal">PKCS11</code>。
默认值为 <code class="literal">jks</code>
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>
在配置 PKCS#11 令牌（即 JVM 被配置为用作 Elasticsearch 的密钥库或信任库）时，可以通过在所配置的上下文中将适当的值设置为<code class="literal">ssl.truststore.password</code> 或 <code class="literal">ssl.truststore.secure_password</code>来配置令牌的PIN。
由于只能配置一个 PKCS#11 令牌，因此在 Elasticsearch 中只能配置一个密钥库和信任库。
这反过来意味着只有一个证书可用于传输层和http层的TLS。
</p>
</div>
</div>
<h4>
<a id="slack-notification-settings"></a>Slack 通知设置
</h4>
<p>
您可以在<code class="literal">elasticsearch.yml</code>中配置以下 Slack 通知设置。
有关通过 Slack 发送通知的更多信息，参考 <a class="xref" href="actions-slack.html#configuring-slack-actions" title="Configuring Slack actions">配置 Slack 行为</a>。
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.slack</code>
</span>
</dt>
<dd>
<p>
指定通过 Slack 发送通知的帐户信息。可以指定以下 Slack 帐户属性:
</p>
<div class="variablelist">
<a id="slack-account-attributes"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">secure_url</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
用于向 Slack 发布消息的传入 Webhook URL。必填。
</dd>
<dt>
<span class="term">
<code class="literal">message_defaults.from</code>
</span>
</dt>
<dd>
要在 Slack 消息中显示的发件人姓名。默认为 预警的ID。
</dd>
<dt>
<span class="term">
<code class="literal">message_defaults.to</code>
</span>
</dt>
<dd>
要向其发送消息的默认 Slack 频道或组。
</dd>
<dt>
<span class="term">
<code class="literal">message_defaults.icon</code>
</span>
</dt>
<dd>
在 Slack 消息中显示的图标。覆盖 传入 webhook 配置的图标。
接受一个图像的公共 URL。
</dd>
<dt>
<span class="term">
<code class="literal">message_defaults.text</code>
</span>
</dt>
<dd>
默认的消息的内容。
</dd>
<dt>
<span class="term">
<code class="literal">message_defaults.attachment</code>
</span>
</dt>
<dd>
默认的消息的附件。
Slack 消息附件使你能够创建格式更丰富的消息。
可指定为 <a href="https://api.slack.com/docs/attachments" class="ulink" target="_top">Slack 附件文档</a> 中定义的数组。
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<h4>
<a id="jira-notification-settings"></a>Jira 通知设置
</h4>
<p>
可以在<code class="literal">elasticsearch.yml</code>中配置以下 Jira 通知设置。
有关在 Jira 中使用通知创建问题的详情，请参考 <a class="xref" href="actions-jira.html#configuring-jira-actions" title="Configuring Jira actions">配置 Jira 行为</a>。
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.jira</code>
</span>
</dt>
<dd>
<p>
指定使用通知在 Jira 创建问题的帐户信息。你可以指定以下 Jira 帐户属性:
</p>
<div class="variablelist">
<a id="jira-account-attributes"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">secure_url</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
Jira 软件服务器的URL。必填。
</dd>
<dt>
<span class="term">
<code class="literal">secure_user</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
连接到 Jira 软件服务器的用户名。必填。
</dd>
<dt>
<span class="term">
<code class="literal">secure_password</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
连接到 Jira 软件服务器的用户密码。必填。
</dd>
<dt>
<span class="term">
<code class="literal">issue_defaults</code>
</span>
</dt>
<dd>
在 Jira 里创建的问题的默认字段值。
更多信息请参考 <a class="xref" href="actions-jira.html#jira-action-attributes" title="Jira action attributes">Jira 行为属性</a>。
选填。
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<h4>
<a id="pagerduty-notification-settings"></a>PagerDuty 通知设置
</h4>
<p>
你可以在 <code class="literal">elasticsearch.yml</code> 中配置以下 PagerDuty 通知设置。
有关通过 PagerDuty 发送通知的详细信息，请参阅 <a class="xref" href="actions-pagerduty.html#configuring-pagerduty-actions" title="Configuring PagerDuty actions">配置 PagerDuty 行为</a>。
</p>
<div class="variablelist">
<a id="pagerduty-account-attributes"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.notification.pagerduty</code>
</span>
</dt>
<dd>
<p>
指定通过 PagerDuty 发送通知的帐户信息。你可以指定以下 PagerDuty 责任帐户属性：
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
与用于访问 PagerDuty 的 API key 相关联的 PagerDuty 帐户的名称。必填。
</dd>
<dt>
<span class="term">
<code class="literal">secure_service_api_key</code> (<a class="xref" href="secure-settings.html" title="Secure settings">安全</a>)
</span>
</dt>
<dd>
用于访问 PagerDuty 的 <a href="https://developer.pagerduty.com/documentation/rest/authentication" class="ulink" target="_top">PagerDuty API key</a>。必填。
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">event_defaults</code>
</span>
</dt>
<dd>
<p>
<a class="xref" href="actions-pagerduty.html#pagerduty-event-trigger-incident-attributes" title="Pagerduty event trigger incident attributes">PagerDuty 事件属性</a> 的默认值。
选填。
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
一个字符串，包含 PagerDuty 事件的默认描述。
如果没有配置默认值，每个 PagerDuty 操作都必须指定一个<code class="literal">description</code>。
</dd>
<dt>
<span class="term">
<code class="literal">incident_key</code>
</span>
</dt>
<dd>
一个字符串，包含发送 PagerDuty 事件时使用的默认事件的 key。
</dd>
<dt>
<span class="term">
<code class="literal">client</code>
</span>
</dt>
<dd>
一个字符串，指定默认的监视客户端。
</dd>
<dt>
<span class="term">
<code class="literal">client_url</code>
</span>
</dt>
<dd>
默认的监视客户端的 URL 。
</dd>
<dt>
<span class="term">
<code class="literal">event_type</code>
</span>
</dt>
<dd>
默认的时间类型。
有效的值有：<code class="literal">trigger</code>,<code class="literal">resolve</code>, <code class="literal">acknowledge</code> 。
</dd>
<dt>
<span class="term">
<code class="literal">attach_payload</code>
</span>
</dt>
<dd>
默认情况下，是否提供监视负载作为事件的上下文。
有效的值有：<code class="literal">true</code>, <code class="literal">false</code> 。
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="modules-threadpool.html">« 线程池</a>
</span>
<span class="next">
<a href2="important-settings.html">Important Elasticsearch configuration »</a>
</span>
</div>
</div>

                  <!-- end body -->
                        </div>
                        <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                        
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </section>
</div>
<script src="../static/cn.js"></script>
</body>
</html>